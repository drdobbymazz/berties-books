<!doctype html>
<html>
  <head>
    <title>Search <%=shopData.shopName%></title>
    <link rel="stylesheet"  type="text/css" href="/main.css" />
    <style>
      body { font-family: Arial, sans-serif; margin: 20px; }
      h1 { color: #333; }
      .search-form { background: #f4f4f4; padding: 20px; border-radius: 8px; max-width: 500px; }
      .form-group { margin-bottom: 15px; }
      label { display: block; font-weight: bold; margin-bottom: 5px; }
      input[type="text"], select {
        width: 100%;
        padding: 8px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
      input[type="submit"] {
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
      input[type="submit"]:hover {
        background-color: #0056b3;
      }
    </style>
  </head>
  <body>
    <h1>Search <%=shopData.shopName%></h1>
    <div class="search-form">
      <% if (typeof errors !== 'undefined' && errors && errors.length) { %>
        <div style="background:#ffe6e6;padding:10px;border-radius:6px;margin-bottom:12px;">
          <strong>Please fix the following:</strong>
          <ul>
            <% errors.forEach(function(err){ %>
              <li><%= err.msg %></li>
            <% }) %>
          </ul>
        </div>
      <% } %>

      <form action="search-result" method="GET">
        <div class="form-group">
          <label for="search-box">What book do you want?</label>
          <input id="search-box" type="text" name="keyword" required value="<%= formData && formData.keyword ? formData.keyword : '' %>">
        </div>
        <div class="form-group">
          <label for="search-type">Search Type:</label>
          <select id="search-type" name="searchType">
            <option value="advanced" <%= formData && formData.searchType === 'advanced' ? 'selected' : '' %>>Advanced Search (Partial Match)</option>
            <option value="basic" <%= formData && formData.searchType === 'basic' ? 'selected' : '' %>>Basic Search (Exact Match)</option>
          </select>
        </div>
        <input type="submit" value="Search">
      </form>
    </div>
    <p><a href="/">Go back to the homepage</a></p>
  </body>
</html>