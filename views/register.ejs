<!doctype html>
<html>
  <head>
    <title>Register for <%=shopData.shopName%></title>
    <link rel="stylesheet"  type="text/css" href="/main.css" />
    <style>
      body { font-family: Arial, sans-serif; margin: 20px; }
      .register-form { background:#f4f4f4; padding:20px; border-radius:8px; max-width:480px; }
      .form-group { margin-bottom:12px; }
      label { display:block; font-weight:bold; margin-bottom:6px; }
      input[type="text"], input[type="email"], input[type="password"] { width:100%; padding:8px; box-sizing:border-box; border:1px solid #ccc; border-radius:4px; }
      input[type="submit"] { background:#007bff; color:white; padding:10px 16px; border:none; border-radius:4px; cursor:pointer; }
      input[type="submit"]:hover { background:#0056b3; }
    </style>
  </head>
  <body>
    <h1>Register for <%=shopData.shopName%></h1>
    <div class="register-form">
      <% if (typeof errors !== 'undefined' && errors && errors.length) { %>
        <div class="validation-errors" style="background:#ffe6e6;padding:10px;border-radius:6px;margin-bottom:12px;">
          <strong>Please fix the following:</strong>
          <ul>
            <% errors.forEach(function(err){ %>
              <li><%= err.msg %></li>
            <% }) %>
          </ul>
        </div>
      <% } %>

      <form method="POST" action="registered">
        <div class="form-group">
          <label for="first">First name</label>
          <input id="first" type="text" name="first" required value="<%= formData && formData.first ? formData.first : '' %>" />
        </div>

        <div class="form-group">
          <label for="last">Last name</label>
          <input id="last" type="text" name="last" required value="<%= formData && formData.last ? formData.last : '' %>" />
        </div>

        <div class="form-group">
          <label for="username">Username</label>
          <input id="username" type="text" name="username" required value="<%= formData && formData.username ? formData.username : '' %>" />
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" type="email" name="email" required value="<%= formData && formData.email ? formData.email : '' %>" />
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input id="password" type="password" name="password" required minlength="8" />
        </div>

        <div class="form-group">
          <label for="passwordConfirm">Confirm Password</label>
          <input id="passwordConfirm" type="password" name="passwordConfirm" required minlength="8" />
        </div>

        <input type="submit" value="Register" />
      </form>
    </div>
  </body>
</html>